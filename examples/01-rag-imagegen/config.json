{
  "globals": {
    "model": "google/gemini-3-pro-image-preview",
    "tmpDir": "out/01-rag-imagegen/{{industry}}/.tmp/HeroImage.jpg",
    "outputPath": "out/01-rag-imagegen/{{industry}}/HeroImage.jpg"
  },
  "steps": [
    {
      "prompt": "**Change the provided image based on the specific requirements listed below:**\n\n**General Instructions:**\n- Modify every subject to possess distinctively German facial features and styling, ensuring their ethnicity is natural to their appearance rather than relying on clothing stereotypes.\n- Do not add any new people who are not in the original image.\n- Do not remove existing people from the image.\n- Strictly preserve the original background and maintain the gender of every subject.\n- Eliminate all text overlays or graphics that appear to be digitally added in post-production.\n- **Strictly maintain the exact body posture, limb and feet positioning, and arm as well as finger placement of all subjects.**\n- Change the lighting to bright daylight\n- Upscale the image if it is pixelated\n- Leave all other visual elements strictly unchanged.\n- Remove all writing, logos, or branding from clothing.\n- do not change gear or tools\n\n**Change all women in the picture:**\n- Style all women as attractive **23â€“28-year-olds** with distinctively German features.\n- Change the face of the woman to change her identity\n- **Render their physiques as petite and slender, characterized by a delicate frame, narrow waist, and toned limbs.**\n- **Change clothing completely. Ensure their attire is form-fitting or flattering their figure while remaining consistent with the {{industry}} environment.**\n- **Depict a curvaceous, full bust proportion (C-D cup) that is prominent yet balances their slender frame.**",
      "aspectRatio": "3:2",
      "candidates": 2,
      "command": "magick '{{file}}' -resize 900x600 -quality 85 '{{file}}'",
      "plugins": [
        {
          "type": "image-search",
          "queryModel": "google/gemini-3-flash-preview",
          "queryPrompt": "You are an expert at image search queries. Generate 5 English search keywords for {{industry}}. Visual Logic: If {{industry}} is specific or abstract (e.g., 'Educator Training'), do NOT search for the term. Instead, deduce the physical objects and setting (e.g., 'sandbox', 'toys'). Subject: Girl/Woman. No lighting/mood terms. Instructions: 1. (Broad Visual) 'Girl' or 'Woman' + the most basic physical object or location (e.g., 'Girl sandbox'). 2. (Generic Action) 'Woman' + simple verb (e.g., 'reading', 'steering'). 3. (Generic Setting) Subject in the typical environment. 4. (Specific Object interaction) Subject holding/using a specific tool typical for this job. 5. (Descriptive Activity) Full sentence of the woman doing the physical task. Output exactly 5 numbered English queries.",
          "queryCount": 5,
          "selectModel": "google/gemini-3-flash-preview",
          "selectThinkingLevel": "high",
          "selectPrompt": "Select the best image for {{industry}} using this scoring system. For each image, calculate the total score and select the image with the highest score.\n\n| Criterion | Points | Description |\n|-----------|--------|-------------|\n| Focal person is a woman 18-30 years old | +3 | The main subject is clearly a young adult woman |\n| Secondary person interaction | +2 | A second person is present and interacting with the focal person |\n| Core activity clearly visible | +5 | The woman is visibly performing the core activity of {{industry}} |\n| Face visible | +3 | The focal person's face is clearly visible |\n| Crowd of people in foreground | -3 | Multiple non-blurred people cluttering the image (blurred background people are OK) |\n\n**Automatic Disqualification (score = 0):**\n- Focal person is a child\n- Image contains a mirror\n- Low image quality\n- Visible watermarks or digitally added overlays\n\nEvaluate each image, calculate the score, and select the one with the highest total.",
          "maxPages": 1,
          "spriteSize": 6,
          "select": 6,
          "output": {
            "mode": "ignore",
            "explode": true
          }
        }
      ]
    }
  ]
}
